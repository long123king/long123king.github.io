<html xmlns="http://www.w3.org/1999/xhtml" lang="zh-cn">
<head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"></head>
<title>coverage</title>
<body><p>set用起来很慢，如果用map代替，能否满足要求？</p> <p>&nbsp;</p> <p>对于子sub trace这种情况，map没有能力处理。</p> <p>&nbsp;</p> <p>什么情况下会出现sub trace呢？</p> <p>&nbsp;</p> <p>就是trace中的某个位置成为了新的branch目标（不可能是call目标），而且恰好这段trace是通过linearSweep得到的。</p> <p>&nbsp;</p> <p><font color="#9b00d3">处理办法，优化linearSweep，添加后续处理。</font></p> <p><font color="#9b00d3"></font>&nbsp;</p> <p><font color="#000000">但是用map没有办法将trace按顺序排列起来，从而达到合并region，计算gap的目标。</font></p> <p>&nbsp;</p> <p><font color="#9b00d3">处理办法，添加冗余数据结构，提高效率。</font></p> <p><font color="#9b00d3"></font>&nbsp;</p> <p><font color="#9b00d3">多线程可以被考虑进来了。</font></p> <p><font color="#9b00d3"></font>&nbsp;</p> <p><font color="#9b00d3">在linearSweep中，精确地记录inst_pre/inst_post位置</font></p> <p><font color="#9b00d3"></font>&nbsp;</p> <p><font color="#000000">条件断点</font></p> <p><a href="http://images.cnitblog.com/blog/580388/201404/241633026856136.png"><img style="background-image: none; border-right-width: 0px; padding-left: 0px; padding-right: 0px; display: block; float: none; border-top-width: 0px; border-bottom-width: 0px; margin-left: auto; border-left-width: 0px; margin-right: auto; padding-top: 0px" title="image" border="0" alt="image" src="http://long123king.github.io/legacy_blogs/img/blog_168_blog_168_241633047018021.png" width="1030" height="170"></a></p> <p>&nbsp;</p> <p>&nbsp;</p> <p><font color="#9b00d3">Pintool动态发现的Trace，不是对静态发现Trace机制的一种问责，而是一种补充和帮助，当动态发现的Trace没有被静态发现时，可以再根据一段代码逻辑，来判断动态发现的Trace是不是有效的Trace，或者是Data/Padding等等。</font></p> <p>&nbsp;</p> <p> <hr> 1. 可以参考objdump的linear sweep代码，优化实现。</p> <p>2. 添加多线程支持，让instrument函数尽快返回</p> <p>3. 研究SSA的实现，以及DFG的生成</p> <p>4. 对于Trace，可否静态分析其最大串联长度</p> <p>5. 分析Import/Trampoline，以分析Evasion情况</p></body>
</html>
